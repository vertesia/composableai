{
  "version": "1.0",
  "description": "A template for building Temporal workflow workers for Vertesia",
  "packageManager": "pnpm",
  "prompts": [
    {
      "type": "text",
      "name": "WORKER_ORG",
      "message": "Organization name (e.g. mycompany)",
      "initial": "my-org",
      "validate": "^[a-zA-Z_][a-zA-Z_0-9-]*$"
    },
    {
      "type": "text",
      "name": "WORKER_NAME",
      "message": "Worker name (e.g. my-worker)",
      "initial": "my-worker",
      "validate": "^[a-zA-Z_][a-zA-Z_0-9-]*$"
    },
    {
      "type": "text",
      "name": "PROJECT_DESCRIPTION",
      "message": "Project description",
      "initial": "A Temporal workflow worker for Vertesia"
    }
  ],
  "derived": {
    "SERVICE_NAME": {
      "from": ["WORKER_ORG", "WORKER_NAME"],
      "transform": "concat",
      "separator": "_"
    }
  },
  "files": [
    "package.json",
    ".env.template",
    "Dockerfile"
  ],
  "renameFiles": {
    ".env.template": ".env"
  },
  "preInstall": {
    "commands": [
      {
        "name": "Connect to Vertesia",
        "command": "vertesia worker connect",
        "optional": false,
        "prompt": "You must connect to a Vertesia project to authenticate with the private npm registry."
      }
    ],
    "cliPackage": "@vertesia/cli"
  },
  "removeAfterInstall": [
    "template.config.json"
  ]
}
